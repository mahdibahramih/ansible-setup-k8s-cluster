---
- name: Add k8s repo signing key
  apt_key:
    url: https://packages.cloud.google.com/apt/doc/apt-key.gpg
    state: present

- name: add docker apt repository
  apt_repository: 
    repo: 'deb http://apt.kubernetes.io/ kubernetes-focal main' 
    state: present  
    update_cache: yes

- name: install docker pkg
  apt:
    pkg: "{{ items }}"
    state: present
    with_items:
      - kubeadm 
      - kubelet 
      - kubectl

- name: make swap off 
  shell: "swapoff --all"